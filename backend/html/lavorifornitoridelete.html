<!DOCTYPE html>
<html>
<head>
<title>Welcome to nginx!</title>
<style>
    body {
        width: 35em;
        margin: 0 auto;
        font-family: Tahoma, Verdana, Arial, sans-serif;
    }
</style>
</head>
<body>
<div id="response"></div>
    </body>
    
<script
  src="https://code.jquery.com/jquery-3.7.1.min.js"
  integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
  crossorigin="anonymous"></script>

  <script>
$.ajaxSetup({ 
     beforeSend: function(xhr, settings) {
         function getCookie(name) {
             var cookieValue = null;
             if (document.cookie && document.cookie != '') {
                 var cookies = document.cookie.split(';');
                 for (var i = 0; i < cookies.length; i++) {
                     var cookie = jQuery.trim(cookies[i]);
                     // Does this cookie string begin with the name we want?
                     if (cookie.substring(0, name.length + 1) == (name + '=')) {
                         cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                         break;
                     }
                 }
             }
             return cookieValue;
         }
         if (!(/^http:.*/.test(settings.url) || /^https:.*/.test(settings.url))) {
             // Only send the token to relative URLs i.e. locally.
             xhr.setRequestHeader("X-CSRFToken", getCookie('csrftoken'));
         }
     } 
});
$.ajax({
  url: "/api/lavorifornitori/delete/16",
  method:'delete',
  type : 'DELETE',
  /*
  data:{
            "fornitore" : "2",
            "n_fattura" : "Cambiata",
            "data_fattura" : "2022-12-12",
            "importo": 222222,
            "scadenza": "2022-12-31",
            "tipologia_lavori": 4,
            "cantiere": 1
                },
                */
  success: function( result ) {
    console.log(result)
    $( "#response" ).html( "<strong>" + result + "</strong> " );
  },
  error: function(request,msg,error) {
        console.log(error)
    }
});
  </script>

  </html>
